[
  {
    "role": "system",
    "content": "You are a specialized 5th Edition Level Up Dungeon Master, an expert agent designed to guide a character through the entire leveling process. Your role is to conduct an interactive interview, making the process clear and immersive.\n\n**CRITICAL AGENTIC FLOW:**\n1.  **INTERVIEW, DON'T REPORT:** Your primary job is to have a conversation. Ask questions one at a time, wait for the player's response, and then proceed to the next step.\n2.  **ONE FINAL ACTION:** You will guide the player through ALL choices (HP, features, spells, etc.). Only when every decision has been made and the player has confirmed they are finished, you will generate a SINGLE, complete `updateCharacterInfo` action containing ALL changes.\n3.  **NEVER USE ACTIONS FOR INTERMEDIATE STEPS:** Do not use actions to ask questions or present options. Actions are only for the final, game-state-changing update.\n\n**LEVEL UP PROCESS (INTERVIEW STEPS):**\n1.  **GREETING & CONFIRMATION:**\n    *   Start by acknowledging the level up. State the character's name, current level, and the new level they are achieving.\n\n2.  **HIT POINTS:**\n    *   **For Players:** Ask them if they want to roll their hit die or take the average. Await their response before calculating.\n    *   **For NPCs:** Announce that you are taking the average HP automatically.\n    *   Confirm the new HP total after applying the Constitution modifier.\n\n3.  **NEW FEATURES:**\n    *   List and briefly explain ALL new class/subclass features gained at this level. If a choice is required (e.g., choosing a Fighting Style or Metamagic), present the options and ask the player to choose.\n\n4.  **ABILITY SCORE IMPROVEMENT (if applicable):**\n    *   At the appropriate levels (4, 8, 12, etc.), explain the choice: +2 to one ability, +1 to two abilities, or a feat.\n    *   Ask the player what they would like to do.\n\n5.  **SPELLCASTING (if applicable):**\n    *   Announce the new total of spell slots.\n    *   If the character learns new spells, present the options (if necessary) and ask them to choose.\n    *   If they are a prepared caster (Cleric, Wizard), remind them they can now prepare a new set of spells.\n\n6.  **PROFICIENCY BONUS (if applicable):**\n    *   If the proficiency bonus increases (at levels 5, 9, 13, 17), state the new bonus.\n\n7.  **FINAL REVIEW:**\n    *   After all choices are made, provide a concise summary of all changes.\n    *   Ask for final confirmation from the player (e.g., \"Are you happy with these choices and ready to finalize your level up?\").\n\n8.  **GENERATE FINAL JSON ACTION:**\n    *   Once the player confirms, and ONLY then, respond with a single JSON object containing the `updateCharacterInfo` action. This JSON must be the ONLY thing in your response.\n\n**EXAMPLE JSON OUTPUT (ONLY AT THE VERY END):**\n{\n  \"narration\": \"Your character feels a surge of new power, their skills honed and their resolve strengthened. Level up complete!\",\n  \"actions\": [\n    {\n      \"action\": \"updateCharacterInfo\",\n      \"parameters\": {\n        \"characterName\": \"Eldrin\",\n        \"changes\": \"{\\\"level\\\": 2, \\\"maxHitPoints\\\": 18, \\\"classFeatures\\\": [...], \\\"experience_points\\\": 300, \\\"exp_required_for_next_level\\\": 900}\"\n      }\n    }\n  ]\n}"
  },
  {
    "role": "system",
    "content": "LEVELING INFORMATION (Reference):\n# SRD 5.2.1 Leveling Information\n# Portions of this content derived from SRD 5.2.1, licensed under CC BY 4.0\n\nUse the following information for for guidance leveling up characters:\n\nExperience Points by Level:\nLevel,XP\n1,0\n2,300\n3,900\n4,2700\n5,6500\n6,14000\n7,23000\n8,34000\n9,48000\n10,64000\n11,85000\n12,100000\n13,120000\n14,140000\n15,165000\n16,195000\n17,225000\n18,265000\n19,305000\n20,355000\n\nSpell Slots for Full Casters (Bard, Cleric, Druid, Sorcerer, Wizard):\nLevel,1st,2nd,3rd,4th,5th,6th,7th,8th,9th\n1,2,-,-,-,-,-,-,-,-\n2,3,-,-,-,-,-,-,-,-\n3,4,2,-,-,-,-,-,-,-\n4,4,3,-,-,-,-,-,-,-\n5,4,3,2,-,-,-,-,-,-\n6,4,3,3,-,-,-,-,-,-\n7,4,3,3,1,-,-,-,-,-\n8,4,3,3,2,-,-,-,-,-\n9,4,3,3,3,1,-,-,-,-\n10,4,3,3,3,2,-,-,-,-\n11,4,3,3,3,2,1,-,-,-\n12,4,3,3,3,2,1,-,-,-\n13,4,3,3,3,2,1,1,-,-\n14,4,3,3,3,2,1,1,-,-\n15,4,3,3,3,2,1,1,1,-\n16,4,3,3,3,2,1,1,1,-\n17,4,3,3,3,2,1,1,1,1\n18,4,3,3,3,3,1,1,1,1\n19,4,3,3,3,3,2,1,1,1\n20,4,3,3,3,3,2,2,1,1\n\nSpell Slots for Half Casters (Paladin, Ranger):\nLevel,1st,2nd,3rd,4th,5th\n1,-,-,-,-,-\n2,2,-,-,-,-\n3,3,-,-,-,-\n4,3,-,-,-,-\n5,4,2,-,-,-\n6,4,2,-,-,-\n7,4,3,-,-,-\n8,4,3,-,-,-\n9,4,3,2,-,-\n10,4,3,2,-,-\n11,4,3,3,-,-\n12,4,3,3,-,-\n13,4,3,3,1,-\n14,4,3,3,1,-\n15,4,3,3,2,-\n16,4,3,3,2,-\n17,4,3,3,3,1\n18,4,3,3,3,1\n19,4,3,3,3,2\n20,4,3,3,3,2\n\nWarlock Spell Slots:\nLevel,Slots,SlotLevel\n1,1,1st\n2,2,1st\n3,2,2nd\n4,2,2nd\n5,2,3rd\n6,2,3rd\n7,2,4th\n8,2,4th\n9,2,5th\n10,2,5th\n11,3,5th\n12,3,5th\n13,3,5th\n14,3,5th\n15,3,5th\n16,3,5th\n17,4,5th\n18,4,5th\n19,4,5th\n20,4,5th\n\nThird Caster Spell Slots (Arcane Trickster, Eldritch Knight):\nLevel,1st,2nd,3rd,4th\n3,2,-,-,-\n4,3,-,-,-\n7,4,2,-,-\n10,4,3,-,-\n13,4,3,2,-\n16,4,3,3,-\n19,4,3,3,1\n20,4,3,3,1\n\nClass Features:\nBarbarian:Rage,Unarmored Defense,Reckless Attack,Danger Sense,Primal Path,Extra Attack,Fast Movement,Feral Instinct,Brutal Critical,Relentless Rage,Persistent Rage,Indomitable Might,Primal Champion\nBard:Spellcasting,Bardic Inspiration,Jack of All Trades,Song of Rest,Bard College,Expertise,Font of Inspiration,Countercharm,Magical Secrets,Superior Inspiration\nCleric:Spellcasting,Divine Domain,Channel Divinity,Destroy Undead,Divine Intervention\nDruid:Spellcasting,Druidic,Wild Shape,Druid Circle,Timeless Body,Beast Spells,Archdruid\nFighter:Fighting Style,Second Wind,Action Surge,Martial Archetype,Extra Attack,Indomitable\nMonk:Unarmored Defense,Martial Arts,Ki,Unarmored Movement,Monastic Tradition,Deflect Missiles,Slow Fall,Extra Attack,Stunning Strike,Ki-Empowered Strikes,Evasion,Stillness of Mind,Purity of Body,Tongue of the Sun and Moon,Diamond Soul,Empty Body,Perfect Self\nPaladin:Divine Sense,Lay on Hands,Fighting Style,Spellcasting,Divine Smite,Divine Health,Sacred Oath,Extra Attack,Aura of Protection,Aura of Courage,Improved Divine Smite,Cleansing Touch\nRanger:Favored Enemy,Natural Explorer,Fighting Style,Spellcasting,Ranger Archetype,Primeval Awareness,Extra Attack,Land's Stride,Hide in Plain Sight,Vanish,Feral Senses,Foe Slayer\nRogue:Expertise,Sneak Attack,Thieves' Cant,Cunning Action,Roguish Archetype,Uncanny Dodge,Evasion,Reliable Talent,Blindsense,Slippery Mind,Elusive,Stroke of Luck\nSorcerer:Spellcasting,Sorcerous Origin,Font of Magic,Metamagic,Sorcerous Restoration\nWarlock:Otherworldly Patron,Pact Magic,Eldritch Invocations,Pact Boon,Mystic Arcanum,Eldritch Master\nWizard:Spellcasting,Arcane Recovery,Arcane Tradition,Spell Mastery,Signature Spells\n\nSpell Lists:\nBard Spells:\nCantrips:Blade Ward,Dancing Lights,Friends,Light,Mage Hand,Mending,Message,Minor Illusion,Prestidigitation,True Strike,Vicious Mockery\n1st:Animal Friendship,Bane,Charm Person,Comprehend Languages,Cure Wounds,Detect Magic,Disguise Self,Faerie Fire,Feather Fall,Healing Word,Heroism,Identify,Illusory Script,Longstrider,Silent Image,Sleep,Speak with Animals,Tasha's Hideous Laughter,Thunderwave,Unseen Servant\n2nd:Animal Messenger,Blindness/Deafness,Calm Emotions,Cloud of Daggers,Crown of Madness,Detect Thoughts,Enhance Ability,Enthrall,Heat Metal,Hold Person,Invisibility,Knock,Lesser Restoration,Locate Animals or Plants,Locate Object,Magic Mouth,Phantasmal Force,See Invisibility,Shatter,Silence,Suggestion,Zone of Truth\n3rd:Bestow Curse,Clairvoyance,Dispel Magic,Fear,Feign Death,Glyph of Warding,Hypnotic Pattern,Leomund's Tiny Hut,Major Image,Nondetection,Plant Growth,Sending,Speak with Dead,Speak with Plants,Stinking Cloud,Tongues\n4th:Compulsion,Confusion,Dimension Door,Freedom of Movement,Greater Invisibility,Hallucinatory Terrain,Locate Creature,Polymorph\n5th:Animate Objects,Awaken,Dominate Person,Dream,Geas,Greater Restoration,Hold Monster,Legend Lore,Mass Cure Wounds,Mislead,Modify Memory,Planar Binding,Raise Dead,Scrying,Seeming,Teleportation Circle\n\nCleric Spells:\nCantrips:Guidance,Light,Mending,Resistance,Sacred Flame,Spare the Dying,Thaumaturgy\n1st:Bane,Bless,Command,Create or Destroy Water,Cure Wounds,Detect Evil and Good,Detect Magic,Detect Poison and Disease,Guiding Bolt,Healing Word,Inflict Wounds,Protection from Evil and Good,Purify Food and Drink,Sanctuary,Shield of Faith\n2nd:Aid,Augury,Blindness/Deafness,Calm Emotions,Continual Flame,Enhance Ability,Find Traps,Gentle Repose,Hold Person,Lesser Restoration,Locate Object,Prayer of Healing,Protection from Poison,Silence,Spiritual Weapon,Warding Bond,Zone of Truth\n3rd:Animate Dead,Beacon of Hope,Bestow Curse,Clairvoyance,Create Food and Water,Daylight,Dispel Magic,Feign Death,Glyph of Warding,Magic Circle,Mass Healing Word,Meld into Stone,Protection from Energy,Remove Curse,Revivify,Sending,Speak with Dead,Spirit Guardians,Tongues,Water Walk\n4th:Banishment,Control Water,Death Ward,Divination,Freedom of Movement,Guardian of Faith,Locate Creature,Stone Shape\n5th:Commune,Contagion,Dispel Evil and Good,Flame Strike,Geas,Greater Restoration,Hallow,Insect Plague,Legend Lore,Mass Cure Wounds,Planar Binding,Raise Dead,Scrying\n\nDruid Spells (continued):\n2nd:Animal Messenger,Barkskin,Beast Sense,Darkvision,Enhance Ability,Find Traps,Flame Blade,Flaming Sphere,Gust of Wind,Heat Metal,Hold Person,Lesser Restoration,Locate Animals or Plants,Locate Object,Moonbeam,Pass without Trace,Protection from Poison,Spike Growth\n3rd:Call Lightning,Conjure Animals,Daylight,Dispel Magic,Meld into Stone,Plant Growth,Protection from Energy,Sleet Storm,Speak with Plants,Water Breathing,Water Walk,Wind Wall\n4th:Blight,Confusion,Conjure Minor Elementals,Conjure Woodland Beings,Control Water,Dominate Beast,Freedom of Movement,Giant Insect,Hallucinatory Terrain,Ice Storm,Locate Creature,Polymorph,Stone Shape,Stoneskin,Wall of Fire\n5th:Antilife Shell,Awaken,Commune with Nature,Conjure Elemental,Contagion,Geas,Greater Restoration,Insect Plague,Mass Cure Wounds,Planar Binding,Reincarnate,Scrying,Tree Stride,Wall of Stone\n\nPaladin Spells:\n1st:Bless,Command,Cure Wounds,Detect Evil and Good,Detect Magic,Detect Poison and Disease,Divine Favor,Heroism,Protection from Evil and Good,Purify Food and Drink,Shield of Faith\n2nd:Aid,Branding Smite,Find Steed,Lesser Restoration,Locate Object,Magic Weapon,Protection from Poison,Zone of Truth\n3rd:Create Food and Water,Daylight,Dispel Magic,Magic Circle,Remove Curse,Revivify\n4th:Banishment,Death Ward,Locate Creature\n5th:Dispel Evil and Good,Geas,Raise Dead\n\nRanger Spells:\n1st:Alarm,Animal Friendship,Cure Wounds,Detect Magic,Detect Poison and Disease,Fog Cloud,Goodberry,Hunter's Mark,Jump,Longstrider,Speak with Animals\n2nd:Animal Messenger,Barkskin,Darkvision,Find Traps,Lesser Restoration,Locate Animals or Plants,Locate Object,Pass without Trace,Protection from Poison,Silence,Spike Growth\n3rd:Conjure Animals,Daylight,Nondetection,Plant Growth,Protection from Energy,Speak with Plants,Water Breathing,Water Walk\n4th:Conjure Woodland Beings,Freedom of Movement,Locate Creature,Stoneskin\n5th:Commune with Nature,Tree Stride\n\nSorcerer Spells:\nCantrips:Acid Splash,Blade Ward,Chill Touch,Dancing Lights,Fire Bolt,Friends,Light,Mage Hand,Mending,Message,Minor Illusion,Prestidigitation,Ray of Frost,Shocking Grasp,True Strike\n1st:Burning Hands,Charm Person,Chromatic Orb,Color Spray,Comprehend Languages,Detect Magic,Disguise Self,Expeditious Retreat,False Life,Feather Fall,Fog Cloud,Jump,Mage Armor,Magic Missile,Shield,Silent Image,Sleep,Thunderwave,Witch Bolt\n2nd:Alter Self,Blindness/Deafness,Blur,Cloud of Daggers,Crown of Madness,Darkness,Darkvision,Detect Thoughts,Enhance Ability,Enlarge/Reduce,Gust of Wind,Hold Person,Invisibility,Knock,Levitate,Mirror Image,Misty Step,Phantasmal Force,Scorching Ray,See Invisibility,Shatter,Spider Climb,Suggestion,Web\n3rd:Blink,Clairvoyance,Counterspell,Daylight,Dispel Magic,Fear,Fireball,Fly,Gaseous Form,Haste,Hypnotic Pattern,Lightning Bolt,Major Image,Protection from Energy,Sleet Storm,Slow,Stinking Cloud,Tongues,Water Breathing,Water Walk\n4th:Banishment,Blight,Confusion,Dimension Door,Dominate Beast,Greater Invisibility,Ice Storm,Polymorph,Stoneskin,Wall of Fire\n5th:Animate Objects,Cloudkill,Cone of Cold,Creation,Dominate Person,Hold Monster,Insect Plague,Seeming,Telekinesis,Teleportation Circle,Wall of Stone\n\nWarlock Spells:\nCantrips:Blade Ward,Chill Touch,Eldritch Blast,Friends,Mage Hand,Minor Illusion,Prestidigitation,True Strike\n1st:Armor of Agathys,Arms of Hadar,Charm Person,Comprehend Languages,Expeditious Retreat,Hellish Rebuke,Hex,Illusory Script,Protection from Evil and Good,Unseen Servant,Witch Bolt\n2nd:Cloud of Daggers,Crown of Madness,Darkness,Enthrall,Hold Person,Invisibility,Mirror Image,Misty Step,Ray of Enfeeblement,Shatter,Spider Climb,Suggestion\n3rd:Counterspell,Dispel Magic,Fear,Fly,Gaseous Form,Hunger of Hadar,Hypnotic Pattern,Magic Circle,Major Image,Remove Curse,Tongues,Vampiric Touch\n4th:Banishment,Blight,Dimension Door,Hallucinatory Terrain\n5th:Contact Other Plane,Dream,Hold Monster,Scrying\n\nWizard Spells:\nCantrips:Acid Splash,Blade Ward,Chill Touch,Dancing Lights,Fire Bolt,Friends,Light,Mage Hand,Mending,Message,Minor Illusion,Prestidigitation,Ray of Frost,Shocking Grasp,True Strike\n1st:Alarm,Burning Hands,Charm Person,Chromatic Orb,Color Spray,Comprehend Languages,Detect Magic,Disguise Self,Expeditious Retreat,False Life,Feather Fall,Find Familiar,Fog Cloud,Grease,Identify,Illusory Script,Jump,Longstrider,Mage Armor,Magic Missile,Protection from Evil and Good,Shield,Silent Image,Sleep,Tasha's Hideous Laughter,Tenser's Floating Disk,Thunderwave,Unseen Servant,Witch Bolt\n2nd:Alter Self,Arcane Lock,Blindness/Deafness,Blur,Cloud of Daggers,Continual Flame,Crown of Madness,Darkness,Darkvision,Detect Thoughts,Enlarge/Reduce,Flaming Sphere,Gentle Repose,Gust of Wind,Hold Person,Invisibility,Knock,Levitate,Locate Object,Magic Mouth,Magic Weapon,Melf's Acid Arrow,Mirror Image,Misty Step,Nystul's Magic Aura,Phantasmal Force,Ray of Enfeeblement,Rope Trick,Scorching Ray,See Invisibility,Shatter,Spider Climb,Suggestion,Web\n3rd:Animate Dead,Bestow Curse,Blink,Clairvoyance,Counterspell,Dispel Magic,Fear,Feign Death,Fireball,Fly,Gaseous Form,Glyph of Warding,Haste,Hypnotic Pattern,Leomund's Tiny Hut,Lightning Bolt,Magic Circle,Major Image,Nondetection,Phantom Steed,Protection from Energy,Remove Curse,Sending,Sleet Storm,Slow,Stinking Cloud,Tongues,Vampiric Touch,Water Breathing\n4th:Arcane Eye,Banishment,Blight,Confusion,Conjure Minor Elementals,Control Water,Dimension Door,Evard's Black Tentacles,Fabricate,Fire Shield,Greater Invisibility,Hallucinatory Terrain,Ice Storm,Leomund's Secret Chest,Locate Creature,Mordenkainen's Faithful Hound,Mordenkainen's Private Sanctum,Otiluke's Resilient Sphere,Phantasmal Killer,Polymorph,Stone Shape,Stoneskin,Wall of Fire\n5th:Animate Objects,Bigby's Hand,Cloudkill,Cone of Cold,Conjure Elemental,Contact Other Plane,Creation,Dominate Person,Dream,Geas,Hold Monster,Legend Lore,Mislead,Modify Memory,Passwall,Planar Binding,Rary's Telepathic Bond,Scrying,Seeming,Telekinesis,Teleportation Circle,Wall of Force,Wall of Stone\n\nWhen leveling up a character, use this information to determine the appropriate changes in experience points, spell slots, and available spells. Ensure that the 'experience_points' field in the character data matches the value from this table for the character's new level. For spellcasting classes, update the character's spell list according to their class and new level."
  },
  {
    "role": "system",
    "content": "Current Character Data:\n{\n  \"character_role\": \"player\",\n  \"character_type\": \"player\",\n  \"name\": \"Eirik Hearthwise\",\n  \"type\": \"player\",\n  \"size\": \"Medium\",\n  \"level\": 1,\n  \"race\": \"Human\",\n  \"class\": \"Cleric\",\n  \"alignment\": \"chaotic good\",\n  \"background\": \"Soldier\",\n  \"status\": \"alive\",\n  \"condition\": \"none\",\n  \"condition_affected\": [],\n  \"hitPoints\": 11,\n  \"maxHitPoints\": 11,\n  \"armorClass\": 16,\n  \"initiative\": 1,\n  \"speed\": 30,\n  \"abilities\": {\n    \"strength\": 14,\n    \"dexterity\": 13,\n    \"constitution\": 15,\n    \"intelligence\": 11,\n    \"wisdom\": 16,\n    \"charisma\": 9\n  },\n  \"savingThrows\": [\n    \"wisdom\",\n    \"charisma\"\n  ],\n  \"skills\": {\n    \"athletics\": 4,\n    \"intimidation\": -1,\n    \"medicine\": 5,\n    \"insight\": 5\n  },\n  \"proficiencyBonus\": 2,\n  \"senses\": {\n    \"darkvision\": 0,\n    \"passivePerception\": 13\n  },\n  \"languages\": [\n    \"Common\",\n    \"Dwarvish\"\n  ],\n  \"proficiencies\": {\n    \"armor\": [\n      \"light\",\n      \"medium\",\n      \"heavy\",\n      \"shields\"\n    ],\n    \"weapons\": [\n      \"simple\"\n    ],\n    \"tools\": [\n      \"gaming set\",\n      \"vehicles (land)\"\n    ]\n  },\n  \"damageVulnerabilities\": [],\n  \"damageResistances\": [],\n  \"damageImmunities\": [],\n  \"conditionImmunities\": [],\n  \"classFeatures\": [\n    {\n      \"name\": \"Spellcasting\",\n      \"description\": \"You can cast prepared cleric spells using Wisdom as your spellcasting ability (Spell Save DC 13, Spell Attack +5). You can use a holy symbol as a spellcasting focus.\",\n      \"source\": \"Cleric\"\n    },\n    {\n      \"name\": \"Divine Domain: Life\",\n      \"description\": \"You gain proficiency with heavy armor. Bless and Cure Wounds are always prepared. Your healing spells heal additional hit points equal to 2 + the spell's level (Disciple of Life).\",\n      \"source\": \"Cleric\"\n    }\n  ],\n  \"racialTraits\": [\n    {\n      \"name\": \"Ability Score Increase\",\n      \"description\": \"Your ability scores each increase by 1.\",\n      \"source\": \"Human\"\n    },\n    {\n      \"name\": \"Extra Language\",\n      \"description\": \"You can speak, read, and write one extra language of your choice.\",\n      \"source\": \"Human\"\n    }\n  ],\n  \"backgroundFeature\": {\n    \"name\": \"Military Rank\",\n    \"description\": \"You have a military rank from your career as a soldier. Soldiers loyal to your former military organization still recognize your authority and influence, and they defer to you if they are of a lower rank.\",\n    \"source\": \"Soldier\"\n  },\n  \"temporaryEffects\": [],\n  \"injuries\": [],\n  \"equipment_effects\": [\n    {\n      \"name\": \"Shield AC Bonus\",\n      \"type\": \"bonus\",\n      \"target\": \"AC\",\n      \"value\": 0,\n      \"description\": \"Shield provides +0 AC\",\n      \"source\": \"Shield\"\n    }\n  ],\n  \"feats\": [],\n  \"equipment\": [\n    {\n      \"item_name\": \"Mace\",\n      \"item_type\": \"weapon\",\n      \"item_subtype\": \"other\",\n      \"description\": \"A simple melee weapon.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Scale mail\",\n      \"item_type\": \"armor\",\n      \"item_subtype\": \"other\",\n      \"description\": \"Medium armor (AC 14 + Dex modifier, max 2).\",\n      \"quantity\": 1,\n      \"ac_base\": 14,\n      \"ac_bonus\": 0,\n      \"dex_limit\": 2,\n      \"armor_category\": \"medium\",\n      \"stealth_disadvantage\": true,\n      \"equipped\": true\n    },\n    {\n      \"item_name\": \"Shield\",\n      \"item_type\": \"armor\",\n      \"item_subtype\": \"other\",\n      \"description\": \"A shield that increases AC by 2.\",\n      \"quantity\": 1,\n      \"ac_base\": 2,\n      \"ac_bonus\": 0,\n      \"dex_limit\": null,\n      \"armor_category\": \"shield\",\n      \"stealth_disadvantage\": false,\n      \"equipped\": true\n    },\n    {\n      \"item_name\": \"Light crossbow\",\n      \"item_type\": \"weapon\",\n      \"item_subtype\": \"other\",\n      \"description\": \"A simple ranged weapon (1d8 piercing, range 80/320).\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Crossbow bolts\",\n      \"item_type\": \"ammunition\",\n      \"item_subtype\": \"other\",\n      \"description\": \"Ammunition for a light crossbow.\",\n      \"quantity\": 20\n    },\n    {\n      \"item_name\": \"Priest's pack\",\n      \"item_type\": \"equipment\",\n      \"item_subtype\": \"other\",\n      \"description\": \"A pack containing useful items for clerics.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Holy symbol\",\n      \"item_type\": \"equipment\",\n      \"item_subtype\": \"amulet\",\n      \"description\": \"A symbol representing Eirik's faith.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Insignia of rank\",\n      \"item_type\": \"equipment\",\n      \"item_subtype\": \"other\",\n      \"description\": \"A badge showing Eirik's former military rank.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Trophy from a fallen enemy\",\n      \"item_type\": \"equipment\",\n      \"item_subtype\": \"other\",\n      \"description\": \"A keepsake from Eirik's military days.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Set of bone dice\",\n      \"item_type\": \"equipment\",\n      \"item_subtype\": \"other\",\n      \"description\": \"A gaming set (bone dice).\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Common clothes\",\n      \"item_type\": \"equipment\",\n      \"item_subtype\": \"other\",\n      \"description\": \"A set of common clothes.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Dog tag\",\n      \"item_type\": \"equipment\",\n      \"item_subtype\": \"amulet\",\n      \"description\": \"A dog tag belonging to a fallen comrade.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Pouch\",\n      \"item_type\": \"equipment\",\n      \"item_subtype\": \"other\",\n      \"description\": \"A small pouch for coins.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Sturdy gloves\",\n      \"item_type\": \"armor\",\n      \"item_subtype\": \"gloves\",\n      \"description\": \"Protective gloves to shield hands from magical thorns.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Pouch of Powdered Silver\",\n      \"item_type\": \"consumable\",\n      \"item_subtype\": \"other\",\n      \"description\": \"A pouch containing powdered silver, useful against magical thorns and certain creatures.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Pouch of Silver Coins\",\n      \"item_type\": \"equipment\",\n      \"description\": \"A small pouch containing 15 silver coins recovered from bandits and found at the tower.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Coded Parchment\",\n      \"item_type\": \"equipment\",\n      \"description\": \"A crumpled scrap of parchment with coded watch schedules and a rough map of ranger patrol routes.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Climbing Rope\",\n      \"item_type\": \"equipment\",\n      \"description\": \"A coil of sturdy climbing rope taken from the bandits.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Stub of Black Wax\",\n      \"item_type\": \"consumable\",\n      \"description\": \"A small, battered stub of black wax found near the sabotage site.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Crow's Hand Feather\",\n      \"item_type\": \"equipment\",\n      \"description\": \"A crow's feather marked with oily black wax, a signature of the Crow's Hand.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Rune-etched Ritual Vial\",\n      \"item_type\": \"consumable\",\n      \"description\": \"A vial inscribed with ancient runes given by Maelo. Now filled with purified water, cleansed of the taint from the spring as part of 'The Hermit's Warning' quest.\",\n      \"quantity\": 1\n    },\n    {\n      \"item_name\": \"Bandit Patrols Map\",\n      \"item_type\": \"equipment\",\n      \"description\": \"A detailed map showing known bandit patrol routes and ambush points, given by Scout Neris.\",\n      \"quantity\": 1\n    }\n  ],\n  \"ammunition\": [\n    {\n      \"name\": \"Crossbow bolts\",\n      \"quantity\": 20,\n      \"description\": \"Ammunition for a light crossbow.\"\n    }\n  ],\n  \"attacksAndSpellcasting\": [\n    {\n      \"name\": \"Mace\",\n      \"attackBonus\": 4,\n      \"damageDice\": \"1d6\",\n      \"damageBonus\": 2,\n      \"damageType\": \"bludgeoning\",\n      \"type\": \"melee\",\n      \"description\": \"Simple melee weapon. Attack: +4 to hit, reach 5 ft. Hit: 1d6+2 bludgeoning.\"\n    },\n    {\n      \"name\": \"Light crossbow\",\n      \"attackBonus\": 3,\n      \"damageDice\": \"1d8\",\n      \"damageBonus\": 1,\n      \"damageType\": \"piercing\",\n      \"type\": \"ranged\",\n      \"description\": \"Simple ranged weapon. Attack: +3 to hit, range 80/320 ft. Hit: 1d8+1 piercing.\"\n    },\n    {\n      \"name\": \"Sacred Flame\",\n      \"attackBonus\": 0,\n      \"damageDice\": \"1d8\",\n      \"damageBonus\": 0,\n      \"damageType\": \"radiant\",\n      \"type\": \"spell\",\n      \"description\": \"Cantrip. Target must succeed on a Dexterity save or take 1d8 radiant damage.\"\n    }\n  ],\n  \"spellcasting\": {\n    \"ability\": \"wisdom\",\n    \"spellSaveDC\": 13,\n    \"spellAttackBonus\": 5,\n    \"spells\": {\n      \"cantrips\": [\n        \"Sacred Flame\",\n        \"Guidance\",\n        \"Spare the Dying\"\n      ],\n      \"level1\": [\n        \"Bless\",\n        \"Cure Wounds\",\n        \"Healing Word\",\n        \"Detect Magic\",\n        \"Protection from Evil and Good\",\n        \"Sanctuary\"\n      ],\n      \"level2\": [],\n      \"level3\": [],\n      \"level4\": [],\n      \"level5\": [],\n      \"level6\": [],\n      \"level7\": [],\n      \"level8\": [],\n      \"level9\": []\n    },\n    \"spellSlots\": {\n      \"level1\": {\n        \"current\": 1,\n        \"max\": 2\n      },\n      \"level2\": {\n        \"current\": 0,\n        \"max\": 0\n      },\n      \"level3\": {\n        \"current\": 0,\n        \"max\": 0\n      },\n      \"level4\": {\n        \"current\": 0,\n        \"max\": 0\n      },\n      \"level5\": {\n        \"current\": 0,\n        \"max\": 0\n      },\n      \"level6\": {\n        \"current\": 0,\n        \"max\": 0\n      },\n      \"level7\": {\n        \"current\": 0,\n        \"max\": 0\n      },\n      \"level8\": {\n        \"current\": 0,\n        \"max\": 0\n      },\n      \"level9\": {\n        \"current\": 0,\n        \"max\": 0\n      }\n    },\n    \"preparedSpells\": [\n      \"Bless\",\n      \"Cure Wounds\",\n      \"Healing Word\",\n      \"Detect Magic\",\n      \"Protection from Evil and Good\",\n      \"Sanctuary\"\n    ]\n  },\n  \"currency\": {\n    \"gold\": 9,\n    \"silver\": 0,\n    \"copper\": 0\n  },\n  \"experience_points\": 300,\n  \"exp_required_for_next_level\": 300,\n  \"challengeRating\": 0.25,\n  \"personality_traits\": \"Cheerful and full of jokes to put others at ease, but this masks his deep grief over the loss of his previous unit. Sila's trust in Eirik and Kira has grown after the safe return of her chest, strengthening their reputation at the outpost.\",\n  \"ideals\": \"Redemption. Every life saved is a step toward atoning for the lives he failed to save.\",\n  \"bonds\": \"Carries a dog tag from his fallen unit as a constant reminder of his promise to protect others. Has earned Sila's continued support and access to her supplies following the recovery of her chest.\",\n  \"flaws\": \"Reckless in the face of danger, terrified of losing friends again and willing to take great risks to prevent it.\"\n}"
  },
  {
    "role": "user",
    "content": "Begin the interactive level-up interview for eirik_hearthwise, who is advancing from level 1 to level 2."
  },
  {
    "role": "assistant",
    "content": "Congratulations, Eirik Hearthwise! You've reached a milestone and are ready to advance from level 1 to level 2 as a Cleric. Let's work through your level-up step by step.\n\n**First, let's address your hit points.**\n\nAt level 2, your maximum hit points increase. You may choose to either:\n- Roll your hit die (1d8) and add your Constitution modifier (+2), **or**\n- Take the average result for a cleric, which is 5 (half of 1d8, rounded up) plus your Constitution modifier (+2).\n\nWould you like to roll for your hit points, or take the average?"
  },
  {
    "role": "user",
    "content": "I rolled an 8!"
  },
  {
    "role": "assistant",
    "content": "Fantastic roll! With an 8 on your hit die, plus your Constitution modifier of +2, you gain a total of **10 hit points** this level.\n\nYour new maximum hit points will be **21** (11 previous max + 10 gained).\n\n---\n\n**Next, let's look at your new class features for Cleric level 2:**\n\n1. **Channel Divinity (1/rest):**  \n   - You gain the ability to channel divine energy to fuel magical effects. At this level, you gain one use per short or long rest.\n   - The default Cleric option is **Turn Undead**, which lets you force undead creatures to flee.\n   - As a Life Domain cleric, you also gain the **Channel Divinity: Preserve Life** option. This allows you to restore hit points to multiple creatures within 30 feet, up to a total of five times your cleric level.\n\nWould you like a quick summary of what Channel Divinity and Preserve Life do, or are you familiar and ready to proceed?"
  },
  {
    "role": "user",
    "content": "No, I know what preserve life does"
  },
  {
    "role": "assistant",
    "content": "Great! We'll add Channel Divinity (with Turn Undead and Preserve Life) to your features.\n\n---\n\nNow, let's move on to spellcasting!\n\n**At Cleric level 2:**\n- Your 1st-level spell slots increase from 2 to 3.\n- You don't gain 2nd-level spells yet, but you can prepare one additional spell each day (now Wisdom modifier + your cleric level = 3 + 2 = 5, but Life Domain always-prepared spells are in addition).\n\n**Spell Preparation Recap:**\n- You may prepare 5 cleric spells per day from the spell list (not counting always-prepared spells: Bless and Cure Wounds).\n- Your always-prepared spells (from Life Domain) are still Bless and Cure Wounds.\n\nWould you like to change which spells you have prepared, or keep your current prepared spells? (Your current prepared spells are: Bless, Cure Wounds, Healing Word, Detect Magic, Protection from Evil and Good, Sanctuary. You may swap any/all of these, and you may now have up to 5 plus your 2 always-prepared spells.)"
  },
  {
    "role": "user",
    "content": "No, but can you recommend the fifth spell for me?"
  },
  {
    "role": "assistant",
    "content": "Absolutely! With a Wisdom modifier of +3 and Cleric level 2, you can prepare a total of **5 cleric spells**, plus your two always-prepared domain spells (Bless and Cure Wounds).\n\nRight now, your prepared spells are:  \n- Healing Word  \n- Detect Magic  \n- Protection from Evil and Good  \n- Sanctuary  \nYou have one open slot for a prepared spell.\n\n**Recommended 1st-level Cleric spells to consider for your fifth slot:**\n- **Guiding Bolt:** A ranged spell attack that deals radiant damage and gives advantage on the next attack against the target. Excellent for helping your party's damage.\n- **Shield of Faith:** Bonus action to give +2 AC to an ally for up to 10 minutes--great for protecting frontliners or yourself.\n- **Command:** Forces a target to obey a simple one-word command; very useful for battlefield control.\n- **Inflict Wounds:** A melee spell attack that deals a big chunk of necrotic damage if you want offensive punch.\n- **Detect Evil and Good:** Identifies aberrations, celestials, elementals, fey, fiends, and undead nearby.\n\nGiven your party support style and role as a Life Cleric, I'd recommend **Guiding Bolt** for offense and party synergy, or **Shield of Faith** for extra protection.\n\n**Which of these appeals to you for your fifth spell slot? Or would you like a different spell from the cleric list?**"
  },
  {
    "role": "user",
    "content": "Ill go with shield of faith"
  },
  {
    "role": "assistant",
    "content": "Excellent choice! **Shield of Faith** will give you a reliable way to boost defenses for yourself or an ally--a classic cleric move.\n\n---\n\n**Quick review of spell slots and prepared spells:**\n- **1st-level spell slots:** 3\n- **Prepared spells (5):** Healing Word, Detect Magic, Protection from Evil and Good, Sanctuary, Shield of Faith\n- **Always prepared (Life Domain):** Bless, Cure Wounds\n\n---\n\nBefore we finalize, here's a summary of all your level-up changes:\n\n**Eirik Hearthwise -- Level 2 Cleric (Life Domain)**\n- **Max hit points:** 21 (rolled 8 + Con)\n- **New features:** Channel Divinity (Turn Undead, Preserve Life)\n- **Spell slots:** 3 Ã— 1st-level slots\n- **Prepared spells:** Healing Word, Detect Magic, Protection from Evil and Good, Sanctuary, Shield of Faith\n- **Always prepared:** Bless, Cure Wounds\n\nAre you happy with these choices and ready to finalize your level up?"
  }
]